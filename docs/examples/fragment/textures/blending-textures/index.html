<!DOCTYPE html>
<html lang="en">
  
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>Blending Textures</title>
  
  
  <meta name="description" content="Scala 3 to GLSL transpiler"/>
  
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="../../../../img/favicon.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="../../../../helium/site/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../../helium/site/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../../../../css/custom.css" />
  <script src="../../../../helium/site/laika-helium.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

  <body>

    <header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    
  </div>

  <a class="icon-link glyph-link" href="../../../../documentation/"><i class="icofont-laika home" title="Home">&#xef47;</i></a>

  <div class="row links">
    
    <a class="button-link" href="https://purplekingdomgames.github.io/ultraviolet-docs/live_demos">Live Demos</a>
    
    <a class="button-link" href="https://discord.gg/b5CD47g">Discord</a>
    
    <a class="button-link" href="https://github.com/PurpleKingdomGames/ultraviolet">Github</a>
    
  </div>  

</header>
    
    <nav id="sidebar">

  <div class="row">
    
    <a class="button-link" href="https://purplekingdomgames.github.io/ultraviolet-docs/live_demos">Live Demos</a>
    
    <a class="button-link" href="https://discord.gg/b5CD47g">Discord</a>
    
    <a class="button-link" href="https://github.com/PurpleKingdomGames/ultraviolet">Github</a>
    
  </div>

  <ul class="nav-list">
    <li class="level1 nav-node"><a href="../../../../documentation/">Ultraviolet</a></li>
    <li class="level2 nav-leaf"><a href="../../../../documentation/shaders-and-glsl.html">Shaders and GLSL</a></li>
    <li class="level2 nav-leaf"><a href="../../../../documentation/motivation.html">Motivation</a></li>
    <li class="level2 nav-node"><a href="../../../../documentation/guide/">Writing Shaders</a></li>
    <li class="level3 nav-leaf"><a href="../../../../documentation/guide/scala-vs-glsl.html">Scala 3 vs GLSL</a></li>
    <li class="level3 nav-leaf"><a href="../../../../documentation/guide/premultiplied-alpha.html">Premultiplied Alpha</a></li>
    <li class="level3 nav-leaf"><a href="../../../../documentation/guide/gotchas.html">Gotcha&#39;s, foot guns, and weird stuff</a></li>
    <li class="level3 nav-leaf"><a href="../../../../documentation/guide/shadertoy.html">Shadertoy</a></li>
    <li class="level1 nav-node"><a href="../../../">Examples</a></li>
    <li class="level2 nav-node"><a href="../../">Fragment</a></li>
    <li class="level3 nav-node"><a href="../../basics/">Basics</a></li>
    <li class="level4 nav-leaf"><a href="../../basics/colour-constants/">Colour Constants</a></li>
    <li class="level4 nav-leaf"><a href="../../basics/colour-interpolators/">Colour Interpolators</a></li>
    <li class="level4 nav-leaf"><a href="../../basics/colours/">Colours</a></li>
    <li class="level4 nav-leaf"><a href="../../basics/minimal/">Minimal Fragment Shader Setup</a></li>
    <li class="level3 nav-node"><a href="../../demos/">Demos</a></li>
    <li class="level4 nav-leaf"><a href="../../demos/campfire/">Campfire Demo</a></li>
    <li class="level4 nav-leaf"><a href="../../demos/glowing-star/">Glowing Star Demo</a></li>
    <li class="level4 nav-leaf"><a href="../../demos/pulsingbox/">Pulsing Box Demo</a></li>
    <li class="level3 nav-node"><a href="../../noise/">Noise</a></li>
    <li class="level4 nav-leaf"><a href="../../noise/cellular-noise/">Cellular Noise</a></li>
    <li class="level4 nav-leaf"><a href="../../noise/classic-perlin-noise/">Classic Perlin Noise</a></li>
    <li class="level4 nav-leaf"><a href="../../noise/gradient-noise/">Gradient Noise</a></li>
    <li class="level4 nav-leaf"><a href="../../noise/simplex-noise/">Simplex Noise</a></li>
    <li class="level4 nav-leaf"><a href="../../noise/white-noise/">White Noise</a></li>
    <li class="level3 nav-node"><a href="../../patterns/">Patterns</a></li>
    <li class="level4 nav-leaf"><a href="../../patterns/grid/">Grid</a></li>
    <li class="level4 nav-leaf"><a href="../../patterns/rainbow/">Rainbow</a></li>
    <li class="level4 nav-leaf"><a href="../../patterns/simple-voronoi/">Voronoi Example</a></li>
    <li class="level4 nav-leaf"><a href="../../patterns/stripes/">Stripes</a></li>
    <li class="level4 nav-leaf"><a href="../../patterns/wavy-stripes/">Wavy stripes</a></li>
    <li class="level3 nav-node"><a href="../../sdf/">Sdf</a></li>
    <li class="level4 nav-leaf"><a href="../../sdf/box/">Square SDF</a></li>
    <li class="level4 nav-leaf"><a href="../../sdf/circle/">Circle SDF</a></li>
    <li class="level4 nav-leaf"><a href="../../sdf/hexagon/">Hexagon SDF</a></li>
    <li class="level4 nav-leaf"><a href="../../sdf/segment/">Segment SDF</a></li>
    <li class="level4 nav-leaf"><a href="../../sdf/star/">Star SDF</a></li>
    <li class="level4 nav-leaf"><a href="../../sdf/triangle/">Triangle SDF</a></li>
    <li class="level3 nav-node"><a href="../../shapes/">Shapes</a></li>
    <li class="level4 nav-leaf"><a href="../../shapes/doughnut/">Doughnut</a></li>
    <li class="level4 nav-leaf"><a href="../../shapes/metaballs/">Metaballs</a></li>
    <li class="level3 nav-node"><a href="../">Textures</a></li>
    <li class="level4 nav-leaf"><a href="../basic-texture-use/">Basic texture use</a></li>
    <li class="level4 active nav-leaf"><a href="#">Blending Textures</a></li>
    <li class="level4 nav-leaf"><a href="../specifying-texture-coords/">Specifying Texture Coordinates</a></li>
    <li class="level2 nav-node"><a href="../../../language-features/">Language features</a></li>
    <li class="level3 nav-leaf"><a href="../../../language-features/imports/">Using Imports &amp; Shared Code</a></li>
    <li class="level3 nav-leaf"><a href="../../../language-features/ubos/">Supplying Data with UBOs</a></li>
    <li class="level2 nav-node"><a href="../../../vertex/">Vertex</a></li>
    <li class="level3 nav-leaf"><a href="../../../vertex/manipulatinguvs/">Manipulating UVs</a></li>
    <li class="level3 nav-leaf"><a href="../../../vertex/minimal/">Minimal Vertex Shader Setup</a></li>
    <li class="level3 nav-leaf"><a href="../../../vertex/movingvertices/">Moving Vertices</a></li>
    <li class="level1 nav-node"><a href="../../../../shadertoy/">Shadertoy</a></li>
    <li class="level2 nav-leaf"><a href="../../../../shadertoy/default/">Default</a></li>
    <li class="level2 nav-leaf"><a href="../../../../shadertoy/plasma/">Plasma</a></li>
    <li class="level2 nav-leaf"><a href="../../../../shadertoy/seascape/">Seascape</a></li>
  </ul>

</nav>

    <div id="container">

      
<nav id="page-nav">
  <p class="header"><a href="#">Blending Textures</a></p>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="#demo">Demo</a></li>
    <li class="level1 nav-leaf"><a href="#links">Links</a></li>
    <li class="level1 nav-leaf"><a href="#how-to-composite-one-texture-over-another">How to composite one texture over another</a></li>
  </ul>

  <p class="footer"></p>
</nav>


      <main class="content">

        <h1 id="blending-textures" class="title">Blending Textures</h1>
        <p>Often we need to blend color values together, in this case to composite two images together, but it could be for any number of other reasons too.</p>
        
        <h2 id="demo" class="section"><a class="anchor-link left" href="#demo"><i class="icofont-laika link">&#xef71;</i></a>Demo</h2>
        <div id="live-demo" style="border:2px solid #e400ff;width:400px;height:400px;background:#a888db33;color: #e400ff;display:flex;align-items:center;justify-content:center;cursor:pointer;">
          â–¶  Click to play
        </div>
        <script>
  document.getElementById("live-demo").addEventListener("click", function() {
    this.innerHTML = '<iframe width="396" height="396" src="https://purplekingdomgames.github.io/ultraviolet-docs//live_demos/examples/fragment/textures/blending-textures/" frameborder="0" allow="autoplay; encrypted-media" scrolling="no"></iframe>';
  });
</script>
        
        <h2 id="links" class="section"><a class="anchor-link left" href="#links"><i class="icofont-laika link">&#xef71;</i></a>Links</h2>
        <ul>
          <li><a href="https://github.com/PurpleKingdomGames/ultraviolet-docs/blob/main/examples/fragment/textures/blending-textures">View example code</a></li>
        </ul>
        <ul>
          <li><a href="https://purplekingdomgames.github.io/ultraviolet-docs//live_demos/examples/fragment/textures/blending-textures/">Live demo</a></li>
        </ul>
        
        <h2 id="how-to-composite-one-texture-over-another" class="section"><a class="anchor-link left" href="#how-to-composite-one-texture-over-another"><i class="icofont-laika link">&#xef71;</i></a>How to composite one texture over another</h2>
        <p>First we need to assign our two textures to two channels.</p>
        <p>The first texture is a solid background, but the second is some foreground layer with
        transparency, i.e. an alpha value that varies between 0.0 and 1.0.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">channel0</span><span>: </span><span class="type-name">Option</span><span>[</span><span class="type-name">AssetPath</span><span>] = </span><span class="type-name">Option</span><span>(</span><span class="type-name">AssetPath</span><span>(</span><span class="string-literal">&quot;assets/fire-background.png&quot;</span><span>))
</span><span class="keyword">val</span><span> </span><span class="identifier">channel1</span><span>: </span><span class="type-name">Option</span><span>[</span><span class="type-name">AssetPath</span><span>] = </span><span class="type-name">Option</span><span>(</span><span class="type-name">AssetPath</span><span>(</span><span class="string-literal">&quot;assets/campfire.png&quot;</span><span>))</span></code></pre>
        <p>We can access the color of each texture by using the channel reference.</p>
        <p>The <code>mix</code> function is then used to blend the two textures together, putting the foreground on
        top of the background, based on the alpha value of the foreground.</p>
        <p>All quite straightforward, but what is this <code>mix</code> function? <code>mix</code> is a GLSL term that is also
        known as lerp, or linear interpolation. The arguments are: a) The value to interpolated from,
        b) The value to interpolate to, c) The interpolation factor.</p>
        <p>In this example we&#39;ve used <code>mix</code> to blend the two textures together based on the alpha value
        of the foreground texture, for example when the alpha value is 0.0 the result will be the
        background texture, when the alpha value is 1.0 the result will be the foreground texture.</p>
        <p>It is important to note that <code>mix</code> is just a mathematical function that will work with many
        numeric and vector types, we&#39;re using it for textures here, but you can use it to interpolate
        between any values you like.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">inline</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">fragment</span><span>: </span><span class="type-name">Shader</span><span>[</span><span class="type-name">FragmentEnv</span><span>, </span><span class="type-name">Unit</span><span>] =
  </span><span class="type-name">Shader</span><span>[</span><span class="type-name">FragmentEnv</span><span>] { </span><span class="identifier">env</span><span> =&gt;
    </span><span class="keyword">def</span><span> </span><span class="declaration-name">fragment</span><span>(</span><span class="identifier">color</span><span>: </span><span class="identifier">vec4</span><span>): </span><span class="identifier">vec4</span><span> =
      </span><span class="keyword">val</span><span> </span><span class="identifier">background</span><span>: </span><span class="identifier">vec4</span><span> = </span><span class="identifier">env</span><span>.</span><span class="type-name">CHANNEL_0</span><span>
      </span><span class="keyword">val</span><span> </span><span class="identifier">foreground</span><span>: </span><span class="identifier">vec4</span><span> = </span><span class="identifier">env</span><span>.</span><span class="type-name">CHANNEL_1</span><span>

      </span><span class="identifier">mix</span><span>(</span><span class="identifier">background</span><span>, </span><span class="identifier">foreground</span><span>, </span><span class="identifier">foreground</span><span>.</span><span class="identifier">a</span><span>)
  }</span></code></pre>

        
<hr class="footer-rule"/>
<footer>
  Site generated by <a href="https://typelevel.org/Laika/">Laika</a> with the Helium theme.
</footer>


      </main>

    </div>

  </body>

</html>